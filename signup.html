<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ - Ù†ÙˆØ± Ø§Ù„Ù†Ø¨ÙˆØ©</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background-image: url('https://images.pexels.com/photos/7249294/pexels-photo-7249294.jpeg');
      background-size: cover;
      background-position: center;
    }
    .overlay {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(4px);
    }
    #global-loader {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(255,255,255,0.85);
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 0.4s;
    }
    #global-loader .spinner {
      border: 6px solid #eee;
      border-top: 6px solid #3498db;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      100% { transform: rotate(360deg); }
    }
    .phone-input-container {
      display: flex;
      gap: 0;
      align-items: stretch;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      overflow: hidden;
      transition: all 0.3s ease;
      background: white;
    }
    
    .phone-input-container:focus-within {
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      border-color: #3b82f6;
    }
    
    .country-code-select {
      width: 140px;
      flex-shrink: 0;
      border: none;
      border-right: 1px solid #e5e7eb;
      border-radius: 0;
      background: #f9fafb;
      font-size: 0.875rem;
      color: #374151;
      transition: all 0.3s ease;
    }
    
    .country-code-select:focus {
      outline: none;
      background: #f3f4f6;
      border-color: #3b82f6;
    }
    
    .phone-number-input {
      flex: 1;
      border: none;
      border-radius: 0;
      background: white;
      transition: all 0.3s ease;
    }
    
    .phone-number-input:focus {
      outline: none;
      background: #fefefe;
    }
    
    .phone-input-container:focus-within .country-code-select,
    .phone-input-container:focus-within .phone-number-input {
      border-color: #3b82f6;
    }
    
    /* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± select */
    .country-code-select {
      appearance: none;
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
      background-position: right 8px center;
      background-repeat: no-repeat;
      background-size: 16px;
      padding-right: 32px;
      font-size: 0.875rem;
      line-height: 1.5;
    }
    
    /* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± option */
    .country-code-select option {
      padding: 8px 12px;
      font-size: 0.875rem;
      line-height: 1.4;
      background: white;
      color: #374151;
    }
    
    /* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± option Ø¹Ù†Ø¯ hover */
    .country-code-select option:hover {
      background: #f3f4f6;
    }
    
    /* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± option Ø§Ù„Ù…Ø­Ø¯Ø¯ */
    .country-code-select option:checked {
      background: #3b82f6;
      color: white;
    }
    
    /* ØªØ­Ø³ÙŠÙ† Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© */
    .country-code-select {
      max-height: 300px;
      overflow-y: auto;
    }
    
    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
    @media (max-width: 640px) {
      .phone-input-container {
        flex-direction: column;
        gap: 0;
      }
      
      .country-code-select {
        width: 100%;
        border-right: none;
        border-bottom: 1px solid #e5e7eb;
        border-radius: 6px 6px 0 0;
      }
      
      .phone-number-input {
        border-radius: 0 0 6px 6px;
      }
      
      .phone-input-container:focus-within .country-code-select {
        border-bottom-color: #3b82f6;
      }
    }
    
    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„ØªØµÙ…ÙŠÙ… */
    .phone-input-container:hover {
      border-color: #9ca3af;
    }
    
    .country-code-select:hover {
      background: #f3f4f6;
    }
    
    .phone-number-input:hover {
      background: #fefefe;
    }
    
    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø­Ù‚ÙˆÙ„ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± */
    .password-field {
      position: relative;
    }
    
    .password-toggle-btn {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px;
      border-radius: 4px;
      transition: all 0.2s ease;
    }
    
    .password-toggle-btn:hover {
      background-color: rgba(59, 130, 246, 0.1);
    }
    
    .password-toggle-btn:focus {
      outline: none;
      box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3);
    }
    
    /* ØªØ­Ø³ÙŠÙ†Ø§Øª checkbox Ø§Ù„Ø´Ø±ÙˆØ· */
    .terms-checkbox {
      accent-color: #3b82f6;
    }
    
    .terms-checkbox:checked {
      background-color: #3b82f6;
      border-color: #3b82f6;
    }
    
    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØ­Ù‚Ù‚ */
    .validation-message {
      font-size: 0.875rem;
      margin-top: 0.25rem;
      transition: all 0.3s ease;
    }
    
    .validation-message.success {
      color: #059669;
    }
    
    .validation-message.error {
      color: #dc2626;
    }
    
    .validation-message.warning {
      color: #d97706;
    }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center">

  <div id="global-loader">
    <div class="spinner"></div>
  </div>

  <div class="overlay shadow-xl rounded-xl p-8 max-w-md w-full">
    <h2 class="text-3xl font-bold text-center text-blue-800 mb-6">âœ¨ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ âœ¨</h2>

    <form id="signupForm" class="space-y-4">
      <input type="text" name="fullname" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"/>
      <input type="email" name="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"/>
      
      <!-- Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ù…Ø¹ Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„Ø© -->
      <div class="phone-input-container">
        <select name="countryCode" required class="country-code-select px-4 py-2 focus:outline-none focus:ring-0">
          <option value="">ğŸŒ Ø§Ø®ØªØ± Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„Ø©</option>
          <!-- Ø§Ù„Ø¯ÙˆÙ„ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø£ÙƒØ«Ø± Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Ù‹ -->
          <option value="+966">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© / Saudi Arabia +966</option>
          <option value="+971">ğŸ‡¦ğŸ‡ª Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª / UAE +971</option>
          <option value="+965">ğŸ‡°ğŸ‡¼ Ø§Ù„ÙƒÙˆÙŠØª / Kuwait +965</option>
          <option value="+973">ğŸ‡§ğŸ‡­ Ø§Ù„Ø¨Ø­Ø±ÙŠÙ† / Bahrain +973</option>
          <option value="+974">ğŸ‡¶ğŸ‡¦ Ù‚Ø·Ø± / Qatar +974</option>
          <option value="+968">ğŸ‡´ğŸ‡² Ø¹Ù…Ø§Ù† / Oman +968</option>
          <option value="+967">ğŸ‡¾ğŸ‡ª Ø§Ù„ÙŠÙ…Ù† / Yemen +967</option>
          <option value="+962">ğŸ‡¯ğŸ‡´ Ø§Ù„Ø£Ø±Ø¯Ù† / Jordan +962</option>
          <option value="+961">ğŸ‡±ğŸ‡§ Ù„Ø¨Ù†Ø§Ù† / Lebanon +961</option>
          <option value="+963">ğŸ‡¸ğŸ‡¾ Ø³ÙˆØ±ÙŠØ§ / Syria +963</option>
          <option value="+964">ğŸ‡®ğŸ‡¶ Ø§Ù„Ø¹Ø±Ø§Ù‚ / Iraq +964</option>
          <option value="+20">ğŸ‡ªğŸ‡¬ Ù…ØµØ± / Egypt +20</option>
          <option value="+212">ğŸ‡²ğŸ‡¦ Ø§Ù„Ù…ØºØ±Ø¨ / Morocco +212</option>
          <option value="+213">ğŸ‡©ğŸ‡¿ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± / Algeria +213</option>
          <option value="+216">ğŸ‡¹ğŸ‡³ ØªÙˆÙ†Ø³ / Tunisia +216</option>
          <option value="+218">ğŸ‡±ğŸ‡¾ Ù„ÙŠØ¨ÙŠØ§ / Libya +218</option>
          <option value="+249">ğŸ‡¸ğŸ‡© Ø§Ù„Ø³ÙˆØ¯Ø§Ù† / Sudan +249</option>
          <option value="+252">ğŸ‡¸ğŸ‡´ Ø§Ù„ØµÙˆÙ…Ø§Ù„ / Somalia +252</option>
          <option value="+253">ğŸ‡©ğŸ‡¯ Ø¬ÙŠØ¨ÙˆØªÙŠ / Djibouti +253</option>
          <option value="+269">ğŸ‡°ğŸ‡² Ø¬Ø²Ø± Ø§Ù„Ù‚Ù…Ø± / Comoros +269</option>
          <option value="+291">ğŸ‡ªğŸ‡· Ø¥Ø±ÙŠØªØ±ÙŠØ§ / Eritrea +291</option>
          <option value="+970">ğŸ‡µğŸ‡¸ ÙÙ„Ø³Ø·ÙŠÙ† / Palestine +970</option>
          <option value="+967">ğŸ‡¾ğŸ‡ª Ø§Ù„ÙŠÙ…Ù† / Yemen +967</option>
          
          <!-- Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆÙ„ -->
          <option value="+254">ğŸ‡°ğŸ‡ª ÙƒÙŠÙ†ÙŠØ§ / Kenya +254</option>
          <option value="+255">ğŸ‡¹ğŸ‡¿ ØªÙ†Ø²Ø§Ù†ÙŠØ§ / Tanzania +255</option>
          <option value="+256">ğŸ‡ºğŸ‡¬ Ø£ÙˆØºÙ†Ø¯Ø§ / Uganda +256</option>
          <option value="+257">ğŸ‡§ğŸ‡® Ø¨ÙˆØ±ÙˆÙ†Ø¯ÙŠ / Burundi +257</option>
          <option value="+258">ğŸ‡²ğŸ‡¿ Ù…ÙˆØ²Ù…Ø¨ÙŠÙ‚ / Mozambique +258</option>
          <option value="+260">ğŸ‡¿ğŸ‡² Ø²Ø§Ù…Ø¨ÙŠØ§ / Zambia +260</option>
          <option value="+261">ğŸ‡²ğŸ‡¬ Ù…Ø¯ØºØ´Ù‚Ø± / Madagascar +261</option>
          <option value="+262">ğŸ‡·ğŸ‡ª Ø±ÙŠÙˆÙ†ÙŠÙˆÙ† / RÃ©union +262</option>
          <option value="+263">ğŸ‡¿ğŸ‡¼ Ø²ÙŠÙ…Ø¨Ø§Ø¨ÙˆÙŠ / Zimbabwe +263</option>
          <option value="+264">ğŸ‡³ğŸ‡¦ Ù†Ø§Ù…ÙŠØ¨ÙŠØ§ / Namibia +264</option>
          <option value="+265">ğŸ‡²ğŸ‡¼ Ù…Ù„Ø§ÙˆÙŠ / Malawi +265</option>
          <option value="+266">ğŸ‡±ğŸ‡¸ Ù„ÙŠØ³ÙˆØªÙˆ / Lesotho +266</option>
          <option value="+267">ğŸ‡§ğŸ‡¼ Ø¨ÙˆØªØ³ÙˆØ§Ù†Ø§ / Botswana +267</option>
          <option value="+268">ğŸ‡¸ğŸ‡¿ Ø¥Ø³ÙˆØ§ØªÙŠÙ†ÙŠ / Eswatini +268</option>
          <option value="+27">ğŸ‡¿ğŸ‡¦ Ø¬Ù†ÙˆØ¨ Ø£ÙØ±ÙŠÙ‚ÙŠØ§ / South Africa +27</option>
          <option value="+290">ğŸ‡¸ğŸ‡­ Ø³Ø§Ù†Øª Ù‡ÙŠÙ„ÙŠÙ†Ø§ / Saint Helena +290</option>
          <option value="+297">ğŸ‡¦ğŸ‡¼ Ø£Ø±ÙˆØ¨Ø§ / Aruba +297</option>
          <option value="+298">ğŸ‡«ğŸ‡´ Ø¬Ø²Ø± ÙØ§Ø±Ùˆ / Faroe Islands +298</option>
          <option value="+299">ğŸ‡¬ğŸ‡± Ø¬Ø±ÙŠÙ†Ù„Ø§Ù†Ø¯ / Greenland +299</option>
          <option value="+30">ğŸ‡¬ğŸ‡· Ø§Ù„ÙŠÙˆÙ†Ø§Ù† / Greece +30</option>
          <option value="+31">ğŸ‡³ğŸ‡± Ù‡ÙˆÙ„Ù†Ø¯Ø§ / Netherlands +31</option>
          <option value="+32">ğŸ‡§ğŸ‡ª Ø¨Ù„Ø¬ÙŠÙƒØ§ / Belgium +32</option>
          <option value="+33">ğŸ‡«ğŸ‡· ÙØ±Ù†Ø³Ø§ / France +33</option>
          <option value="+34">ğŸ‡ªğŸ‡¸ Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§ / Spain +34</option>
          <option value="+350">ğŸ‡¬ğŸ‡® Ø¬Ø¨Ù„ Ø·Ø§Ø±Ù‚ / Gibraltar +350</option>
          <option value="+351">ğŸ‡µğŸ‡¹ Ø§Ù„Ø¨Ø±ØªØºØ§Ù„ / Portugal +351</option>
          <option value="+352">ğŸ‡±ğŸ‡º Ù„ÙˆÙƒØ³Ù…Ø¨ÙˆØ±Øº / Luxembourg +352</option>
          <option value="+353">ğŸ‡®ğŸ‡ª Ø£ÙŠØ±Ù„Ù†Ø¯Ø§ / Ireland +353</option>
          <option value="+354">ğŸ‡®ğŸ‡¸ Ø¢ÙŠØ³Ù„Ù†Ø¯Ø§ / Iceland +354</option>
          <option value="+355">ğŸ‡¦ğŸ‡± Ø£Ù„Ø¨Ø§Ù†ÙŠØ§ / Albania +355</option>
          <option value="+356">ğŸ‡²ğŸ‡¹ Ù…Ø§Ù„Ø·Ø§ / Malta +356</option>
          <option value="+357">ğŸ‡¨ğŸ‡¾ Ù‚Ø¨Ø±Øµ / Cyprus +357</option>
          <option value="+358">ğŸ‡«ğŸ‡® ÙÙ†Ù„Ù†Ø¯Ø§ / Finland +358</option>
          <option value="+359">ğŸ‡§ğŸ‡¬ Ø¨Ù„ØºØ§Ø±ÙŠØ§ / Bulgaria +359</option>
          <option value="+36">ğŸ‡­ğŸ‡º Ø§Ù„Ù…Ø¬Ø± / Hungary +36</option>
          <option value="+370">ğŸ‡±ğŸ‡¹ Ù„ÙŠØªÙˆØ§Ù†ÙŠØ§ / Lithuania +370</option>
          <option value="+371">ğŸ‡±ğŸ‡» Ù„Ø§ØªÙÙŠØ§ / Latvia +371</option>
          <option value="+372">ğŸ‡ªğŸ‡ª Ø¥Ø³ØªÙˆÙ†ÙŠØ§ / Estonia +372</option>
          <option value="+373">ğŸ‡²ğŸ‡© Ù…ÙˆÙ„Ø¯ÙˆÙØ§ / Moldova +373</option>
          <option value="+374">ğŸ‡¦ğŸ‡² Ø£Ø±Ù…ÙŠÙ†ÙŠØ§ / Armenia +374</option>
          <option value="+375">ğŸ‡§ğŸ‡¾ Ø¨ÙŠÙ„Ø§Ø±ÙˆØ³ÙŠØ§ / Belarus +375</option>
          <option value="+376">ğŸ‡¦ğŸ‡© Ø£Ù†Ø¯ÙˆØ±Ø§ / Andorra +376</option>
          <option value="+377">ğŸ‡²ğŸ‡¨ Ù…ÙˆÙ†Ø§ÙƒÙˆ / Monaco +377</option>
          <option value="+378">ğŸ‡¸ğŸ‡² Ø³Ø§Ù† Ù…Ø§Ø±ÙŠÙ†Ùˆ / San Marino +378</option>
          <option value="+380">ğŸ‡ºğŸ‡¦ Ø£ÙˆÙƒØ±Ø§Ù†ÙŠØ§ / Ukraine +380</option>
          <option value="+381">ğŸ‡·ğŸ‡¸ ØµØ±Ø¨ÙŠØ§ / Serbia +381</option>
          <option value="+382">ğŸ‡²ğŸ‡ª Ø§Ù„Ø¬Ø¨Ù„ Ø§Ù„Ø£Ø³ÙˆØ¯ / Montenegro +382</option>
          <option value="+385">ğŸ‡­ğŸ‡· ÙƒØ±ÙˆØ§ØªÙŠØ§ / Croatia +385</option>
          <option value="+386">ğŸ‡¸ğŸ‡® Ø³Ù„ÙˆÙÙŠÙ†ÙŠØ§ / Slovenia +386</option>
          <option value="+387">ğŸ‡§ğŸ‡¦ Ø§Ù„Ø¨ÙˆØ³Ù†Ø© ÙˆØ§Ù„Ù‡Ø±Ø³Ùƒ / Bosnia +387</option>
          <option value="+389">ğŸ‡²ğŸ‡° Ù…Ù‚Ø¯ÙˆÙ†ÙŠØ§ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ© / North Macedonia +389</option>
          <option value="+39">ğŸ‡®ğŸ‡¹ Ø¥ÙŠØ·Ø§Ù„ÙŠØ§ / Italy +39</option>
          <option value="+40">ğŸ‡·ğŸ‡´ Ø±ÙˆÙ…Ø§Ù†ÙŠØ§ / Romania +40</option>
          <option value="+41">ğŸ‡¨ğŸ‡­ Ø³ÙˆÙŠØ³Ø±Ø§ / Switzerland +41</option>
          <option value="+420">ğŸ‡¨ğŸ‡¿ Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø§Ù„ØªØ´ÙŠÙƒ / Czech Republic +420</option>
          <option value="+421">ğŸ‡¸ğŸ‡° Ø³Ù„ÙˆÙØ§ÙƒÙŠØ§ / Slovakia +421</option>
          <option value="+423">ğŸ‡±ğŸ‡® Ù„ÙŠØ®ØªÙ†Ø´ØªØ§ÙŠÙ† / Liechtenstein +423</option>
          <option value="+43">ğŸ‡¦ğŸ‡¹ Ø§Ù„Ù†Ù…Ø³Ø§ / Austria +43</option>
          <option value="+44">ğŸ‡¬ğŸ‡§ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ù…ØªØ­Ø¯Ø© / UK +44</option>
          <option value="+45">ğŸ‡©ğŸ‡° Ø§Ù„Ø¯Ù†Ù…Ø§Ø±Ùƒ / Denmark +45</option>
          <option value="+46">ğŸ‡¸ğŸ‡ª Ø§Ù„Ø³ÙˆÙŠØ¯ / Sweden +46</option>
          <option value="+47">ğŸ‡³ğŸ‡´ Ø§Ù„Ù†Ø±ÙˆÙŠØ¬ / Norway +47</option>
          <option value="+48">ğŸ‡µğŸ‡± Ø¨ÙˆÙ„Ù†Ø¯Ø§ / Poland +48</option>
          <option value="+49">ğŸ‡©ğŸ‡ª Ø£Ù„Ù…Ø§Ù†ÙŠØ§ / Germany +49</option>
          <option value="+1">ğŸ‡ºğŸ‡¸ Ø§Ù„ÙˆÙ„Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ­Ø¯Ø© / USA +1</option>
          <option value="+1">ğŸ‡¨ğŸ‡¦ ÙƒÙ†Ø¯Ø§ / Canada +1</option>
          <option value="+52">ğŸ‡²ğŸ‡½ Ø§Ù„Ù…ÙƒØ³ÙŠÙƒ / Mexico +52</option>
          <option value="+54">ğŸ‡¦ğŸ‡· Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ† / Argentina +54</option>
          <option value="+55">ğŸ‡§ğŸ‡· Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„ / Brazil +55</option>
          <option value="+56">ğŸ‡¨ğŸ‡± ØªØ´ÙŠÙ„ÙŠ / Chile +56</option>
          <option value="+57">ğŸ‡¨ğŸ‡´ ÙƒÙˆÙ„ÙˆÙ…Ø¨ÙŠØ§ / Colombia +57</option>
          <option value="+58">ğŸ‡»ğŸ‡ª ÙÙ†Ø²ÙˆÙŠÙ„Ø§ / Venezuela +58</option>
          <option value="+591">ğŸ‡§ğŸ‡´ Ø¨ÙˆÙ„ÙŠÙÙŠØ§ / Bolivia +591</option>
          <option value="+593">ğŸ‡ªğŸ‡¨ Ø§Ù„Ø¥ÙƒÙˆØ§Ø¯ÙˆØ± / Ecuador +593</option>
          <option value="+594">ğŸ‡¬ğŸ‡« ØºÙˆÙŠØ§Ù†Ø§ Ø§Ù„ÙØ±Ù†Ø³ÙŠØ© / French Guiana +594</option>
          <option value="+595">ğŸ‡µğŸ‡¾ Ø¨Ø§Ø±Ø§ØºÙˆØ§ÙŠ / Paraguay +595</option>
          <option value="+596">ğŸ‡²ğŸ‡¶ Ù…Ø§Ø±ØªÙŠÙ†ÙŠÙƒ / Martinique +596</option>
          <option value="+597">ğŸ‡¸ğŸ‡· Ø³ÙˆØ±ÙŠÙ†Ø§Ù… / Suriname +597</option>
          <option value="+598">ğŸ‡ºğŸ‡¾ Ø§Ù„Ø£ÙˆØ±ÙˆØºÙˆØ§ÙŠ / Uruguay +598</option>
          <option value="+599">ğŸ‡§ğŸ‡¶ Ø¨ÙˆÙ†ÙŠØ± / Bonaire +599</option>
          <option value="+60">ğŸ‡²ğŸ‡¾ Ù…Ø§Ù„ÙŠØ²ÙŠØ§ / Malaysia +60</option>
          <option value="+61">ğŸ‡¦ğŸ‡º Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§ / Australia +61</option>
          <option value="+62">ğŸ‡®ğŸ‡© Ø¥Ù†Ø¯ÙˆÙ†ÙŠØ³ÙŠØ§ / Indonesia +62</option>
          <option value="+63">ğŸ‡µğŸ‡­ Ø§Ù„ÙÙ„Ø¨ÙŠÙ† / Philippines +63</option>
          <option value="+64">ğŸ‡³ğŸ‡¿ Ù†ÙŠÙˆØ²ÙŠÙ„Ù†Ø¯Ø§ / New Zealand +64</option>
          <option value="+65">ğŸ‡¸ğŸ‡¬ Ø³Ù†ØºØ§ÙÙˆØ±Ø© / Singapore +65</option>
          <option value="+66">ğŸ‡¹ğŸ‡­ ØªØ§ÙŠÙ„Ø§Ù†Ø¯ / Thailand +66</option>
          <option value="+81">ğŸ‡¯ğŸ‡µ Ø§Ù„ÙŠØ§Ø¨Ø§Ù† / Japan +81</option>
          <option value="+82">ğŸ‡°ğŸ‡· ÙƒÙˆØ±ÙŠØ§ Ø§Ù„Ø¬Ù†ÙˆØ¨ÙŠØ© / South Korea +82</option>
          <option value="+84">ğŸ‡»ğŸ‡³ ÙÙŠØªÙ†Ø§Ù… / Vietnam +84</option>
          <option value="+86">ğŸ‡¨ğŸ‡³ Ø§Ù„ØµÙŠÙ† / China +86</option>
          <option value="+91">ğŸ‡®ğŸ‡³ Ø§Ù„Ù‡Ù†Ø¯ / India +91</option>
          <option value="+92">ğŸ‡µğŸ‡° Ø¨Ø§ÙƒØ³ØªØ§Ù† / Pakistan +92</option>
          <option value="+93">ğŸ‡¦ğŸ‡« Ø£ÙØºØ§Ù†Ø³ØªØ§Ù† / Afghanistan +93</option>
          <option value="+94">ğŸ‡±ğŸ‡° Ø³Ø±ÙŠÙ„Ø§Ù†ÙƒØ§ / Sri Lanka +94</option>
          <option value="+95">ğŸ‡²ğŸ‡² Ù…ÙŠØ§Ù†Ù…Ø§Ø± / Myanmar +95</option>
          <option value="+98">ğŸ‡®ğŸ‡· Ø¥ÙŠØ±Ø§Ù† / Iran +98</option>
          <option value="+880">ğŸ‡§ğŸ‡© Ø¨Ù†ØºÙ„Ø§Ø¯ÙŠØ´ / Bangladesh +880</option>
          <option value="+977">ğŸ‡³ğŸ‡µ Ù†ÙŠØ¨Ø§Ù„ / Nepal +977</option>
          <option value="+994">ğŸ‡¦ğŸ‡¿ Ø£Ø°Ø±Ø¨ÙŠØ¬Ø§Ù† / Azerbaijan +994</option>
          <option value="+995">ğŸ‡¬ğŸ‡ª Ø¬ÙˆØ±Ø¬ÙŠØ§ / Georgia +995</option>
          <option value="+996">ğŸ‡°ğŸ‡¬ Ù‚ÙŠØ±ØºÙŠØ²Ø³ØªØ§Ù† / Kyrgyzstan +996</option>
          <option value="+998">ğŸ‡ºğŸ‡¿ Ø£ÙˆØ²Ø¨ÙƒØ³ØªØ§Ù† / Uzbekistan +998</option>
        </select>
        <input type="tel" name="phoneNumber" placeholder="ğŸ“± Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required class="phone-number-input px-4 py-2 focus:outline-none focus:ring-0"/>
      </div>
      
      <!-- Ø§Ù„Ù†ÙˆØ¹ -->
      <select name="gender" required class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù†ÙˆØ¹</option>
        <option value="Ø°ÙƒØ±">Ø°ÙƒØ±</option>
        <option value="Ø£Ù†Ø«Ù‰">Ø£Ù†Ø«Ù‰</option>
        <option value="Ù…Ø®ØµØµ">Ù…Ø®ØµØµ</option>
      </select>
      
      <!-- Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ© -->
      <select name="grade" required class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</option>
        <option value="Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ">Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ</option>
        <option value="Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ">Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ</option>
        <option value="Ø«Ø§Ù†ÙˆÙŠ">Ø«Ø§Ù†ÙˆÙŠ</option>
        <option value="Ø¬Ø§Ù…Ø¹ÙŠ">Ø¬Ø§Ù…Ø¹ÙŠ</option>
        <option value="Ø®Ø±ÙŠØ¬">Ø®Ø±ÙŠØ¬</option>
      </select>
      
      <input type="text" name="city" placeholder="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©" class="w-full px-4 py-2 border rounded"/>
      <input type="text" name="parentPhone" placeholder="Ø±Ù‚Ù… ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" class="w-full px-4 py-2 border rounded"/>
      
      <!-- ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø¥Ø¸Ù‡Ø§Ø±/Ø§Ù„Ø¥Ø®ÙØ§Ø¡ -->
      <div class="relative password-field">
        <input type="password" name="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required class="w-full px-4 py-2 pr-12 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"/>
        <button type="button" id="togglePassword" class="password-toggle-btn">
          <svg id="eyeIcon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
          </svg>
        </button>
      </div>
      
      <!-- ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
      <div class="relative password-field">
        <input type="password" name="confirmPassword" id="confirmPassword" placeholder="ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required class="w-full px-4 py-2 pr-12 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"/>
        <button type="button" id="toggleConfirmPassword" class="password-toggle-btn">
          <svg id="eyeIconConfirm" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
          </svg>
        </button>
      </div>
      
      <!-- Ø±Ø³Ø§Ù„Ø© ØªØ·Ø§Ø¨Ù‚ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± -->
      <div id="passwordMatch" class="text-sm hidden"></div>
      
      <!-- Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù… -->
      <div class="flex items-start space-x-3 space-x-reverse">
        <input type="checkbox" name="terms" id="terms" required class="terms-checkbox">
        <label for="terms" class="text-sm text-gray-700 leading-relaxed">
          Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ <a href="#" class="text-blue-600 hover:underline font-medium">Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…</a> Ùˆ 
          <a href="#" class="text-blue-600 hover:underline font-medium">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a> Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù…Ù†ØµØ© Ù†ÙˆØ± Ø§Ù„Ù†Ø¨ÙˆØ©
        </label>
      </div>

      <button type="submit" class="w-full bg-blue-700 text-white py-2 rounded hover:bg-blue-800 transition">ğŸ‰ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
    </form>

    <p class="text-center text-sm mt-4">
      Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ
      <a id="loginLink" href="login.html" class="text-blue-600 hover:underline">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
    </p>

    <div id="message" class="mt-4 text-center text-sm font-semibold"></div>
  </div>

  <script>
    const redirectTo = new URLSearchParams(window.location.search).get("next") || "home.html";
    document.getElementById("loginLink").href = `login.html?next=${encodeURIComponent(redirectTo)}`;

    const form = document.getElementById("signupForm");
    const messageDiv = document.getElementById("message");
    const countryCodeSelect = document.querySelector('select[name="countryCode"]');
    const phoneNumberInput = document.querySelector('input[name="phoneNumber"]');
    
    // Ø¹Ù†Ø§ØµØ± ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±
    const passwordInput = document.getElementById('password');
    const confirmPasswordInput = document.getElementById('confirmPassword');
    const togglePasswordBtn = document.getElementById('togglePassword');
    const toggleConfirmPasswordBtn = document.getElementById('toggleConfirmPassword');
    const passwordMatchDiv = document.getElementById('passwordMatch');
    const termsCheckbox = document.getElementById('terms');

    // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ Ø­Ø¯Ø« Ù„ØªØºÙŠÙŠØ± Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„Ø©
    countryCodeSelect.addEventListener('change', function() {
      if (this.value) {
        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆÙ„Ø© Ù…Ù† Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø­Ø¯Ø¯
        const selectedOption = this.options[this.selectedIndex];
        const countryText = selectedOption.text;
        const countryName = countryText.split(' / ')[0]; // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ
        
        // Ø§Ù„ØªØ±ÙƒÙŠØ² Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù„Ù‰ Ø­Ù‚Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
        phoneNumberInput.focus();
        
        // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¨ØµØ±ÙŠ Ù„Ø­Ù‚Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
        phoneNumberInput.classList.add('ring-2', 'ring-blue-500', 'border-blue-500');
        
        // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¨ØµØ±ÙŠ Ù„Ù„Ø­Ø§ÙˆÙŠØ©
        document.querySelector('.phone-input-container').classList.add('ring-2', 'ring-blue-500');
        
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ£Ø«ÙŠØ± Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØªÙŠÙ†
        setTimeout(() => {
          phoneNumberInput.classList.remove('ring-2', 'ring-blue-500', 'border-blue-500');
          document.querySelector('.phone-input-container').classList.remove('ring-2', 'ring-blue-500');
        }, 2000);
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯ Ù…Ø¹ Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆÙ„Ø©
        messageDiv.textContent = `âœ… ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ${countryName} Ø¨Ù†Ø¬Ø§Ø­`;
        messageDiv.classList.remove('text-red-600', 'text-yellow-600');
        messageDiv.classList.add('text-green-600');
        
        setTimeout(() => {
          messageDiv.textContent = "";
          messageDiv.classList.remove('text-green-600');
        }, 2000);
      }
    });

    // ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù†Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙÙŠ Ø­Ù‚Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
    phoneNumberInput.addEventListener('input', function() {
      // Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ø£Ø­Ø±Ù ØºÙŠØ± Ø±Ù‚Ù…ÙŠØ©
      this.value = this.value.replace(/[^0-9]/g, '');
      
      // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ø·ÙˆÙ„ Ø§Ù„Ø±Ù‚Ù… (15 Ø±Ù‚Ù…)
      if (this.value.length > 15) {
        this.value = this.value.slice(0, 15);
      }
      
      // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© ØªÙˆØ¬ÙŠÙ‡ÙŠØ©
      if (this.value.length > 0 && !countryCodeSelect.value) {
        messageDiv.textContent = "âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„Ø© Ø£ÙˆÙ„Ø§Ù‹";
        messageDiv.classList.remove('text-green-600', 'text-red-600');
        messageDiv.classList.add('text-yellow-600');
      } else if (this.value.length > 0 && countryCodeSelect.value) {
        messageDiv.textContent = "";
        messageDiv.classList.remove('text-yellow-600');
      }
      
      // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¨ØµØ±ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø©
      if (this.value.length > 0) {
        this.style.borderColor = '#10b981';
        this.style.backgroundColor = '#f0fdf4';
      } else {
        this.style.borderColor = '';
        this.style.backgroundColor = '';
      }
    });
    
    // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø­Ù‚Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
    phoneNumberInput.addEventListener('focus', function() {
      if (!countryCodeSelect.value) {
        // Ø¥Ø¸Ù‡Ø§Ø± ØªÙ†Ø¨ÙŠÙ‡ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
        messageDiv.textContent = "âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„Ø© Ø£ÙˆÙ„Ø§Ù‹";
        messageDiv.classList.remove('text-green-600', 'text-red-600');
        messageDiv.classList.add('text-yellow-600');
        
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†
        setTimeout(() => {
          messageDiv.textContent = "";
          messageDiv.classList.remove('text-yellow-600');
        }, 3000);
        
        // Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„Ø©
        countryCodeSelect.focus();
      } else {
        // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¨ØµØ±ÙŠ Ø¥ÙŠØ¬Ø§Ø¨ÙŠ
        this.style.borderColor = '#3b82f6';
        this.style.backgroundColor = '#eff6ff';
      }
    });
    
    // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ±ÙƒÙŠØ²
    phoneNumberInput.addEventListener('blur', function() {
      if (this.value.length === 0) {
        this.style.borderColor = '';
        this.style.backgroundColor = '';
      }
    });

    // Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
    togglePasswordBtn.addEventListener('click', function() {
      const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
      passwordInput.setAttribute('type', type);
      
      // ØªØºÙŠÙŠØ± Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©
      const eyeIcon = document.getElementById('eyeIcon');
      if (type === 'text') {
        eyeIcon.innerHTML = `
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"></path>
        `;
      } else {
        eyeIcon.innerHTML = `
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
        `;
      }
    });

    // Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
    toggleConfirmPasswordBtn.addEventListener('click', function() {
      const type = confirmPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
      confirmPasswordInput.setAttribute('type', type);
      
      // ØªØºÙŠÙŠØ± Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©
      const eyeIconConfirm = document.getElementById('eyeIconConfirm');
      if (type === 'text') {
        eyeIconConfirm.innerHTML = `
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"></path>
        `;
      } else {
        eyeIconConfirm.innerHTML = `
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
        `;
      }
    });

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ·Ø§Ø¨Ù‚ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±
    function checkPasswordMatch() {
      const password = passwordInput.value;
      const confirmPassword = confirmPasswordInput.value;
      
      if (confirmPassword.length > 0) {
        if (password === confirmPassword) {
          passwordMatchDiv.textContent = "âœ… ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©";
          passwordMatchDiv.className = "text-sm text-green-600";
          passwordMatchDiv.classList.remove('hidden');
          return true;
        } else {
          passwordMatchDiv.textContent = "âŒ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©";
          passwordMatchDiv.className = "text-sm text-red-600";
          passwordMatchDiv.classList.remove('hidden');
          return false;
        }
      } else {
        passwordMatchDiv.classList.add('hidden');
        return true;
      }
    }

    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
    function checkPasswordStrength(password) {
      let strength = 0;
      let feedback = [];
      
      if (password.length >= 8) {
        strength += 1;
      } else {
        feedback.push("ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± 8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„");
      }
      
      if (/[a-z]/.test(password)) {
        strength += 1;
      } else {
        feedback.push("ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø­Ø±Ù ØµØºÙŠØ±");
      }
      
      if (/[A-Z]/.test(password)) {
        strength += 1;
      } else {
        feedback.push("ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø­Ø±Ù ÙƒØ¨ÙŠØ±");
      }
      
      if (/[0-9]/.test(password)) {
        strength += 1;
      } else {
        feedback.push("ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø±Ù‚Ù…");
      }
      
      if (/[^A-Za-z0-9]/.test(password)) {
        strength += 1;
      } else {
        feedback.push("ÙŠØ¬Ø¨ Ø£Ù† ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø±Ù…Ø² Ø®Ø§Øµ");
      }
      
      return { strength, feedback };
    }

    // Ù…Ø±Ø§Ù‚Ø¨Ø© ØªØºÙŠÙŠØ±Ø§Øª ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±
    passwordInput.addEventListener('input', function() {
      checkPasswordMatch();
      
      // Ø¥Ø¸Ù‡Ø§Ø± Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
      const password = this.value;
      if (password.length > 0) {
        const strengthCheck = checkPasswordStrength(password);
        let strengthText = "";
        let strengthColor = "";
        
        if (strengthCheck.strength <= 2) {
          strengthText = "Ø¶Ø¹ÙŠÙØ©";
          strengthColor = "text-red-600";
        } else if (strengthCheck.strength <= 3) {
          strengthText = "Ù…ØªÙˆØ³Ø·Ø©";
          strengthColor = "text-yellow-600";
        } else if (strengthCheck.strength <= 4) {
          strengthText = "Ø¬ÙŠØ¯Ø©";
          strengthColor = "text-blue-600";
        } else {
          strengthText = "Ù‚ÙˆÙŠØ©";
          strengthColor = "text-green-600";
        }
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        if (!document.getElementById('passwordStrength')) {
          const strengthDiv = document.createElement('div');
          strengthDiv.id = 'passwordStrength';
          strengthDiv.className = `text-sm ${strengthColor} mt-1`;
          passwordInput.parentNode.appendChild(strengthDiv);
        }
        
        document.getElementById('passwordStrength').textContent = `Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: ${strengthText}`;
        document.getElementById('passwordStrength').className = `text-sm ${strengthColor} mt-1`;
      } else {
        const strengthDiv = document.getElementById('passwordStrength');
        if (strengthDiv) {
          strengthDiv.remove();
        }
      }
    });
    
    confirmPasswordInput.addEventListener('input', checkPasswordMatch);

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      
      console.log("Form submission started"); // Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø­Ø¯Ø« ÙŠØ¹Ù…Ù„

      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
      const fullname = form.querySelector('input[name="fullname"]').value.trim();
      const email = form.querySelector('input[name="email"]').value.trim();
      const gender = form.querySelector('select[name="gender"]').value;
      const grade = form.querySelector('select[name="grade"]').value;

      if (!fullname) {
        messageDiv.textContent = "âŒ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„";
        messageDiv.classList.remove('text-green-600', 'text-yellow-600');
        messageDiv.classList.add('text-red-600');
        form.querySelector('input[name="fullname"]').focus();
        return;
      }

      if (!email) {
        messageDiv.textContent = "âŒ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ";
        messageDiv.classList.remove('text-green-600', 'text-yellow-600');
        messageDiv.classList.add('text-red-600');
        form.querySelector('input[name="email"]').focus();
        return;
      }

      if (!gender) {
        messageDiv.textContent = "âŒ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù†ÙˆØ¹";
        messageDiv.classList.remove('text-green-600', 'text-yellow-600');
        messageDiv.classList.add('text-red-600');
        form.querySelector('select[name="gender"]').focus();
        return;
      }

      if (!grade) {
        messageDiv.textContent = "âŒ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©";
        messageDiv.classList.remove('text-green-600', 'text-yellow-600');
        messageDiv.classList.add('text-red-600');
        form.querySelector('select[name="grade"]').focus();
        return;
      }

      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„Ø©
      if (!countryCodeSelect.value) {
        messageDiv.textContent = "âŒ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„Ø©";
        messageDiv.classList.remove('text-green-600', 'text-yellow-600');
        messageDiv.classList.add('text-red-600');
        countryCodeSelect.focus();
        return;
      }

      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
      if (!phoneNumberInput.value.trim()) {
        messageDiv.textContent = "âŒ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ";
        messageDiv.classList.remove('text-green-600', 'text-yellow-600');
        messageDiv.classList.add('text-red-600');
        phoneNumberInput.focus();
        return;
      }

      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ·Ø§Ø¨Ù‚ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±
      if (!checkPasswordMatch()) {
        messageDiv.textContent = "âŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªØ·Ø§Ø¨Ù‚ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±";
        messageDiv.classList.remove('text-green-600', 'text-yellow-600');
        messageDiv.classList.add('text-red-600');
        return;
      }

      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
      const password = passwordInput.value;
      const strengthCheck = checkPasswordStrength(password);
      if (strengthCheck.strength < 3) {
        messageDiv.textContent = "âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø¶Ø¹ÙŠÙØ© Ø¬Ø¯Ø§Ù‹. ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø£Ù‚ÙˆÙ‰";
        messageDiv.classList.remove('text-green-600', 'text-yellow-600');
        messageDiv.classList.add('text-red-600');
        passwordInput.focus();
        return;
      }

      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…
      if (!termsCheckbox.checked) {
        messageDiv.textContent = "âŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…";
        messageDiv.classList.remove('text-green-600', 'text-yellow-600');
        messageDiv.classList.add('text-red-600');
        termsCheckbox.focus();
        return;
      }

      // Disable the submit button to prevent multiple submissions
      const submitBtn = form.querySelector('button[type="submit"]');
      submitBtn.disabled = true;
      submitBtn.textContent = "Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨...";
      submitBtn.classList.add('opacity-50', 'cursor-not-allowed');

      // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
      messageDiv.textContent = "â³ Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±...";
      messageDiv.classList.remove('text-red-600', 'text-blue-600');
      messageDiv.classList.add('text-blue-600');

      const formData = new FormData(form);
      const countryCode = formData.get("countryCode");
      const phoneNumber = formData.get("phoneNumber");
      const fullPhoneNumber = countryCode + phoneNumber;

      console.log("Form data:", {
        fullname: formData.get("fullname"),
        email: formData.get("email"),
        phone: fullPhoneNumber,
        gender: formData.get("gender"),
        grade: formData.get("grade"),
        city: formData.get("city"),
        parentPhone: formData.get("parentPhone"),
        password: formData.get("password")
      });

      const params = new URLSearchParams({
        action: "addStudent",
        "Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„": formData.get("fullname"),
        "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ": formData.get("email"),
        "Ø±Ù‚Ù… Ø§Ù„Ø·Ø§Ù„Ø¨": fullPhoneNumber,
        "Ø§Ù„Ù†ÙˆØ¹": formData.get("gender"),
        "Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©": formData.get("grade"),
        "Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©": formData.get("city"),
        "Ø±Ù‚Ù… ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±": formData.get("parentPhone") || "",
        "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±": formData.get("password")
      });

      try {
        console.log("Sending request to:", "https://script.google.com/macros/s/AKfycbzYsZh3bYhjznpFCxAqDUTeSggfJiegyCSw2sJPB_Cf1OTO7VnFSHeI7mPygd-QQ_wn/exec?" + params.toString());
        
        const res = await fetch(
          "https://script.google.com/macros/s/AKfycbzYsZh3bYhjznpFCxAqDUTeSggfJiegyCSw2sJPB_Cf1OTO7VnFSHeI7mPygd-QQ_wn/exec?" + params.toString(),
          { method: "POST" }
        );
        
        console.log("Response status:", res.status);
        const text = await res.text();
        console.log("Response text:", text);

        messageDiv.textContent = "âœ… " + text;
        messageDiv.classList.remove('text-red-600', 'text-blue-600');
        messageDiv.classList.add("text-green-600");
        form.reset();

        // ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø¹ Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ©
        setTimeout(() => {
          window.location.href = `login.html?next=${encodeURIComponent(redirectTo)}`;
        }, 1500);
      } catch (err) {
        console.error("Error during form submission:", err);
        messageDiv.textContent = "âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù….";
        messageDiv.classList.remove('text-green-600', 'text-blue-600');
        messageDiv.classList.add("text-red-600");
      } finally {
        // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø²Ø±
        submitBtn.disabled = false;
        submitBtn.textContent = "ğŸ‰ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨";
        submitBtn.classList.remove('opacity-50', 'cursor-not-allowed');
      }
    });

    window.addEventListener('load', function() {
      const loader = document.getElementById('global-loader');
      if(loader) {
        // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù„ÙˆØ¯Ù†Ø¬ ÙÙˆØ±Ø§Ù‹ Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        loader.style.opacity = '0';
        setTimeout(() => loader.style.display = 'none', 400);
      }
    });
  </script>
</body>
</html> 